<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Resources Center</title>
    <link rel="stylesheet" href="/styles.css?v=1744154000">
    <!-- Add favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico?v=1744154000">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Study Resources Center</h1>
        </div>
        <nav>
            <ul>
                <li><a href="/"><i class="fas fa-home"></i> Activities</a></li>
                <li><a href="/chat.html"><i class="fas fa-comments"></i> Study Groups</a></li>
                <li><a href="/ai-chat.html"><i class="fas fa-robot"></i> Homework Help</a></li>
                <li><a href="/login.html" id="loginBtn"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                <li><a href="/signup.html" id="signupBtn"><i class="fas fa-user-plus"></i> Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h1 id="title">Study Resources Center</h1>
            <h2 id="sub">Access educational resources from anywhere!</h2>

            <!-- Language fact message that dynamically changes -->
            <p class="fact-message">Language fact: The most common letter in English is 'e'.</p>

            <!-- Proxy Search Bar -->
            <div class="proxy-container">
                <h3>Web Proxy</h3>
                <p class="proxy-description">Access educational websites through our secure proxy</p>
                <form id="searchForm" class="proxy-form">
                    <input id="searchbar" type="text" placeholder="Search the web or enter a URL" class="proxy-input">
                    <button type="submit" class="proxy-button"><i class="fas fa-search"></i> Go</button>
                </form>
            </div>

            <p>Games, chat rooms, and AI chat - all in one place that bypasses restrictions!</p>
        </section>

        <section class="games-section">
            <h2>Featured Games</h2>
            <div class="games-grid">
                <!-- Game placeholders -->
                <div class="game-card">
                    <div class="game-img placeholder"></div>
                    <h3>Snake Game</h3>
                    <a href="/activities/logic_puzzle.html" class="play-btn">Play Now</a>
                </div>
                <div class="game-card">
                    <div class="game-img placeholder"></div>
                    <h3>Coming Soon</h3>
                    <a href="#" class="play-btn">Coming Soon</a>
                </div>
                <div class="game-card">
                    <div class="game-img placeholder"></div>
                    <h3>Coming Soon</h3>
                    <a href="#" class="play-btn">Coming Soon</a>
                </div>
                <div class="game-card">
                    <div class="game-img placeholder"></div>
                    <h3>Coming Soon</h3>
                    <a href="#" class="play-btn">Coming Soon</a>
                </div>
            </div>
        </section>
        
        <!-- Quick links section for educational resources -->
        <section class="quicklinks-section">
            <h2>Quick Access</h2>
            <div class="quicklinks">
                <a class="quicklink" data-url="https://google.com">
                    <img class="shortcut" src="https://www.google.com/favicon.ico" alt="Google">
                    <span>Google</span>
                </a>
                <a class="quicklink" data-url="https://youtube.com">
                    <img class="shortcut" src="https://www.youtube.com/favicon.ico" alt="YouTube">
                    <span>YouTube</span>
                </a>
                <a class="quicklink" data-url="https://wikipedia.org">
                    <img class="shortcut" src="https://en.wikipedia.org/favicon.ico" alt="Wikipedia">
                    <span>Wikipedia</span>
                </a>
                <a class="quicklink" data-url="https://quizlet.com">
                    <img class="shortcut" src="https://quizlet.com/favicon.ico" alt="Quizlet">
                    <span>Quizlet</span>
                </a>
                <a class="quicklink" data-url="https://khanacademy.org">
                    <img class="shortcut" src="https://www.khanacademy.org/favicon.ico" alt="Khan Academy">
                    <span>Khan Academy</span>
                </a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 Study Resources Center. All rights reserved.</p>
    </footer>

    <!-- Scripts -->
    <script src="/assets/js/randomSentence.js?v=1744154000"></script>
    <script type="module" src="/js/main.js?v=1744154000"></script>
    <!-- Python proxy integration -->
    <script type="module" src="/js/python-proxy-client.js?v=1744154001"></script>
    <script type="module" src="/js/proxy-adapter.js?v=1744154001"></script>
    <script type="module" src="/js/proxy-integration.js?v=1744154000"></script>
    
    <!-- Python Proxy Status -->
    <script>
      // Check Python proxy status on page load
      async function checkProxyStatus() {
        try {
          console.log('Checking Python proxy status...');
          const response = await fetch('/api/health');
          const data = await response.json();
          
          console.log('Python proxy status:', data);
          
          if (data.status !== 'healthy') {
            // Show warning if proxy is not healthy
            const warningEl = document.createElement('div');
            warningEl.style.background = '#ffebee';
            warningEl.style.color = '#c62828';
            warningEl.style.padding = '10px';
            warningEl.style.margin = '10px 0';
            warningEl.style.borderRadius = '5px';
            warningEl.style.position = 'fixed';
            warningEl.style.top = '0';
            warningEl.style.left = '0';
            warningEl.style.right = '0';
            warningEl.style.zIndex = '9999';
            warningEl.style.textAlign = 'center';
            warningEl.innerHTML = `
              <p>⚠️ Python proxy service is not available</p>
              <p>Status: ${data.status || 'unavailable'}</p>
              <p>Some features may not work correctly.</p>
              <button id="dismissWarning" style="background: #c62828; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin-top: 5px;">Dismiss</button>
            `;
            document.body.appendChild(warningEl);
            
            // Add event listener to dismiss button
            setTimeout(() => {
              const dismissBtn = document.getElementById('dismissWarning');
              if (dismissBtn) {
                dismissBtn.addEventListener('click', () => {
                  if (warningEl.parentNode) {
                    warningEl.parentNode.removeChild(warningEl);
                  }
                });
              }
            }, 100);
          }
          
          return data.status === 'healthy';
        } catch (error) {
          console.error('Error checking Python proxy status:', error);
          
          // Show error notification
          const errorEl = document.createElement('div');
          errorEl.style.background = '#ffebee';
          errorEl.style.color = '#c62828';
          errorEl.style.padding = '10px';
          errorEl.style.margin = '10px 0';
          errorEl.style.borderRadius = '5px';
          errorEl.style.position = 'fixed';
          errorEl.style.bottom = '0';
          errorEl.style.left = '0';
          errorEl.style.right = '0';
          errorEl.style.zIndex = '9999';
          errorEl.style.textAlign = 'center';
          errorEl.innerHTML = `
            <p>⚠️ Error connecting to Python proxy</p>
            <p>${error.message || 'Unknown error'}</p>
            <button id="dismissError" style="background: #c62828; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin-top: 5px;">Dismiss</button>
          `;
          document.body.appendChild(errorEl);
          
          // Add event listener to dismiss button
          setTimeout(() => {
            const dismissBtn = document.getElementById('dismissError');
            if (dismissBtn) {
              dismissBtn.addEventListener('click', () => {
                if (errorEl.parentNode) {
                  errorEl.parentNode.removeChild(errorEl);
                }
              });
            }
          }, 100);
          
          return false;
        }
      }
      
      // Wait for scripts to load and then check proxy status
    window.addEventListener('load', () => {
      // Allow scripts to initialize properly
      setTimeout(() => {
        // Check Python proxy status
        checkProxyStatus();
      }, 1000);
    });
    </script>
</body>
</html>